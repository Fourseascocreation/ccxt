using ccxt;
namespace Tests;

// PLEASE DO NOT EDIT THIS FILE, IT IS GENERATED AND WILL BE OVERWRITTEN:
// https://github.com/ccxt/ccxt/blob/master/CONTRIBUTING.md#how-to-contribute-code


public partial class testMainClass : BaseTest
{
    public static void testLedgerItem(Exchange exchange, object method, object entry, object requestedCode, object now)
    {
        object format = new Dictionary<string, object>() {
            { "info", new Dictionary<string, object>() {} },
            { "id", "x1234" },
            { "currency", "BTC" },
            { "account", "spot" },
            { "referenceId", "" },
            { "referenceAccount", "" },
            { "status", "ok" },
            { "amount", exchange.parseNumber("22") },
            { "before", exchange.parseNumber("111") },
            { "after", exchange.parseNumber("133") },
            { "fee", new Dictionary<string, object>() {} },
            { "direction", "in" },
            { "timestamp", 1638230400000 },
            { "datetime", "2021-11-30T00:00:00.000Z" },
            { "type", "deposit" },
        };
        object emptyNotAllowedFor = new List<object>() { "id", "currency", "account", "status", "direction" };
        testSharedMethods.assertStructure(exchange, method, entry, format, emptyNotAllowedFor);
        testSharedMethods.assertTimestamp(exchange, method, entry, now);
        testSharedMethods.assertCurrencyCode(exchange, method, entry, getValue(entry, "currency"), requestedCode);
        //
        testSharedMethods.assertInArray(exchange, method, entry, "direction", new List<object>() { "in", "out" });
        // testSharedMethods.assertInArray (exchange, method, entry, 'type', ['trade', 'transaction', 'margin', 'cashback', 'referral', 'transfer', 'fee',  ]);
        // testSharedMethods.assertInArray (exchange, method, entry, 'account', ['spot', 'swap', .. ]);
        testSharedMethods.assertGreaterOrEqual(exchange, method, entry, "amount", "0");
        testSharedMethods.assertGreaterOrEqual(exchange, method, entry, "before", "0");
        testSharedMethods.assertGreaterOrEqual(exchange, method, entry, "after", "0");
        testSharedMethods.assertFee(exchange, method, getValue(entry, "fee"));
    }

}