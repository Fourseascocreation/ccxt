using ccxt;
namespace Tests;

// PLEASE DO NOT EDIT THIS FILE, IT IS GENERATED AND WILL BE OVERWRITTEN:
// https://github.com/ccxt/ccxt/blob/master/CONTRIBUTING.md#how-to-contribute-code


public partial class testMainClass : BaseTest
{
    public static void testTicker(Exchange exchange, object method, object entry, object symbol)
    {
        object format = new Dictionary<string, object>() {
            { "info", new Dictionary<string, object>() {} },
            { "symbol", "ETH/BTC" },
            { "timestamp", 1502962946216 },
            { "datetime", "2017-09-01T00:00:00" },
            { "high", exchange.parseNumber("1.234") },
            { "low", exchange.parseNumber("1.234") },
            { "bid", exchange.parseNumber("1.234") },
            { "bidVolume", exchange.parseNumber("1.234") },
            { "ask", exchange.parseNumber("1.234") },
            { "askVolume", exchange.parseNumber("1.234") },
            { "vwap", exchange.parseNumber("1.234") },
            { "open", exchange.parseNumber("1.234") },
            { "close", exchange.parseNumber("1.234") },
            { "last", exchange.parseNumber("1.234") },
            { "previousClose", exchange.parseNumber("1.234") },
            { "change", exchange.parseNumber("1.234") },
            { "percentage", exchange.parseNumber("1.234") },
            { "average", exchange.parseNumber("1.234") },
            { "baseVolume", exchange.parseNumber("1.234") },
            { "quoteVolume", exchange.parseNumber("1.234") },
        };
        object emptyNotAllowedFor = new List<object>() {"symbol"};
        testSharedMethods.assertStructure(exchange, method, entry, format, emptyNotAllowedFor);
        testSharedMethods.assertTimestamp(exchange, method, entry);
        object logText = testSharedMethods.logTemplate(exchange, method, entry);
        //
        testSharedMethods.assertGreater(exchange, method, entry, "open", "0");
        testSharedMethods.assertGreater(exchange, method, entry, "high", "0");
        testSharedMethods.assertGreater(exchange, method, entry, "low", "0");
        testSharedMethods.assertGreater(exchange, method, entry, "close", "0");
        testSharedMethods.assertGreater(exchange, method, entry, "ask", "0");
        testSharedMethods.assertGreaterOrEqual(exchange, method, entry, "askVolume", "0");
        testSharedMethods.assertGreater(exchange, method, entry, "bid", "0");
        testSharedMethods.assertGreaterOrEqual(exchange, method, entry, "bidVolume", "0");
        testSharedMethods.assertGreater(exchange, method, entry, "vwap", "0");
        testSharedMethods.assertGreater(exchange, method, entry, "average", "0");
        testSharedMethods.assertGreaterOrEqual(exchange, method, entry, "baseVolume", "0");
        testSharedMethods.assertGreaterOrEqual(exchange, method, entry, "quoteVolume", "0");
        object existsFirst = (((Dictionary<string,object>)entry).ContainsKey(toStringOrNull("first")));
        assert(!isTrue(existsFirst), add("`first` field leftover", logText));
        object lastString = exchange.safeString(entry, "last");
        object closeString = exchange.safeString(entry, "close");
        assert(isTrue((isTrue((isEqual(closeString, null))) && isTrue((isEqual(lastString, null))))) || isTrue(Precise.stringEq(lastString, closeString)), add("`last` != `close`", logText));
        object baseVolume = exchange.safeString(entry, "baseVolume");
        object quoteVolume = exchange.safeString(entry, "quoteVolume");
        object high = exchange.safeString(entry, "high");
        object low = exchange.safeString(entry, "low");
        if (isTrue(isTrue(isTrue(isTrue((!isEqual(baseVolume, null))) && isTrue((!isEqual(quoteVolume, null)))) && isTrue((!isEqual(high, null)))) && isTrue((!isEqual(low, null)))))
        {
            object mulBaseVolLow = Precise.stringMul(baseVolume, low);
            assert(Precise.stringGe(quoteVolume, mulBaseVolLow), add("quoteVolume >= baseVolume * low", logText));
            object mulBaseVolHigh = Precise.stringMul(baseVolume, high);
            assert(Precise.stringLe(quoteVolume, mulBaseVolHigh), add("quoteVolume <= baseVolume * high", logText));
        }
        object vwap = exchange.safeString(entry, "vwap");
        if (isTrue(!isEqual(vwap, null)))
        {
            // assert (high !== undefined, 'vwap is defined, but high is not' + logText);
            // assert (low !== undefined, 'vwap is defined, but low is not' + logText);
            assert(Precise.stringGe(vwap, "0"), add("vwap is not greater than zero", logText));
            //     assert (vwap >= low && vwap <= high)
            if (isTrue(!isEqual(baseVolume, null)))
            {
                assert(!isEqual(quoteVolume, null), add("baseVolume & vwap is defined, but quoteVolume is not", logText));
            }
            if (isTrue(!isEqual(quoteVolume, null)))
            {
                assert(!isEqual(baseVolume, null), add("quoteVolume & vwap is defined, but baseVolume is not", logText));
            }
        }
        object bid = exchange.safeString(entry, "bid");
        object ask = exchange.safeString(entry, "ask");
        if (isTrue(isTrue((!isEqual(bid, null))) && isTrue((!isEqual(ask, null)))))
        {
            assert(Precise.stringGe(ask, bid), add(add(getValue(entry, "symbol"), " bid is greater than ask!"), logText));
        }
        if (isTrue(isEqual(method, "fetchTicker")))
        {
            testSharedMethods.assertSymbol(exchange, method, entry, "symbol", symbol);
        }
    }

}