using ccxt;
namespace Tests;

// PLEASE DO NOT EDIT THIS FILE, IT IS GENERATED AND WILL BE OVERWRITTEN:
// https://github.com/ccxt/ccxt/blob/master/CONTRIBUTING.md#how-to-contribute-code


public partial class testMainClass : BaseTest
{
    public static void testDepositWithdrawal(Exchange exchange, object method, object entry, object requestedCode, object now)
    {
        object format = new Dictionary<string, object>() {
            { "info", new Dictionary<string, object>() {} },
            { "id", "1234" },
            { "txid", "0x1345FEG45EAEF7" },
            { "timestamp", 1502962946216 },
            { "datetime", "2017-08-17 12:42:48.000" },
            { "network", "ETH" },
            { "address", "0xEFE3487358AEF352345345" },
            { "addressTo", "0xEFE3487358AEF352345123" },
            { "addressFrom", "0xEFE3487358AEF352345456" },
            { "tag", "smth" },
            { "tagTo", "smth" },
            { "tagFrom", "smth" },
            { "type", "deposit" },
            { "amount", exchange.parseNumber("1.234") },
            { "currency", "USDT" },
            { "status", "ok" },
            { "updated", 1502962946233 },
            { "fee", new Dictionary<string, object>() {} },
        };
        object emptyNotAllowedFor = new List<object>() {"type", "amount", "currency"};
        testSharedMethods.assertStructure(exchange, method, entry, format, emptyNotAllowedFor);
        testSharedMethods.assertTimestamp(exchange, method, entry, now);
        testSharedMethods.assertCurrencyCode(exchange, method, entry, getValue(entry, "currency"), requestedCode);
        //
        testSharedMethods.assertInArray(exchange, method, entry, "status", new List<object>() {"ok", "pending", "failed", "rejected", "canceled"});
        testSharedMethods.assertInArray(exchange, method, entry, "type", new List<object>() {"deposit", "withdrawal"});
        testSharedMethods.assertGreaterOrEqual(exchange, method, entry, "amount", "0");
        testSharedMethods.assertFee(exchange, method, getValue(entry, "fee"));
    }

}