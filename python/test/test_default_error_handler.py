import os
import sys

root = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
sys.path.append(root)

# ----------------------------------------------------------------------------

# PLEASE DO NOT EDIT THIS FILE, IT IS GENERATED AND WILL BE OVERWRITTEN:
# https://github.com/ccxt/ccxt/blob/master/CONTRIBUTING.md#how-to-contribute-code

# ----------------------------------------------------------------------------

import ccxt  # noqa: F402

# ----------------------------------------------------------------------------


def testDefaultErrorHandler(errorClass, httpStatusCode, httpStatusText, body, url, method):
    exchange = ccxt.Exchange({
        'id': 'regirock',
    })
    try:
        exchange.default_error_handler(httpStatusCode, httpStatusText, body, url, method)
        raise ccxt.ArgumentsRequired('No error was thrown 0:')
    except Exception as e:
        if isinstance(e, ccxt.ArgumentsRequired):
            raise e
        elif not(isinstance(errorClass, e)):
            raise ccxt.BaseError(errorClass + 'raised instead of ' + e)

# ------------------------------------------------

testDefaultErrorHandler(ccxt.ExchangeError, 200, 'OK', 'maintenance', 'http://lol.com', 'GET')
testDefaultErrorHandler(ccxt.DDoSProtection, 200, 'OK', 'ddos', 'http://lol.com', 'GET')
testDefaultErrorHandler(ccxt.DDoSProtection, 200, 'OK', 'ddos maintenance', 'http://lol.com', 'GET')
testDefaultErrorHandler(ccxt.DDoSProtection, 69, '6ix9ine', 'ddos', 'http://lol.com', 'GET')

testDefaultErrorHandler(ccxt.ExchangeError, 666, 'evil', 'maintenance', 'http://lol.com', 'GET')
testDefaultErrorHandler(ccxt.ExchangeNotAvailable, 404, 'Not Found', 'maintenance', 'http://lol.com', 'GET')
testDefaultErrorHandler(ccxt.ExchangeNotAvailable, 520, 'Bad Gateway', 'maintenance', 'http://lol.com', 'GET')
